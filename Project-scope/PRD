# ğŸ“˜ Product Requirements Document (PRD)

Project: **ShepLang + BobaScript Unified Alpha**
Owner: Golden Sheep AI  
IDE Environment: Windsurf / Cascade  
Repo Root: `/sheplang/`  
Phases Covered: 0 â†’ 3  

---

## ğŸ§­ Mission

To create a beginner-friendly programming ecosystem for non-technical founders â€”  
a pair of languages that teach logic while building real, deployable applications.

**ShepLang** is the visual, declarative layer (reads like thought).  
**BobaScript** is the executable scripting language (runs like TypeScript with a heart).

Together, they form the foundation for **Shepherd Studio** and **ShepKit**,  
our future ADE and CLI suite.

---

## ğŸŒŸ Vision

> â€œCode that reads like ideas.  
> Runs like JavaScript.  
> Teaches like Python.â€

We want to make AI-driven development *human again* â€”  
a system where building a full-stack app feels conversational,  
not syntactic.

---

## ğŸ¯ Objectives

| Phase | Goal | Deliverable |
|-------|------|-------------|
| 0 | Language Grammar | Langium grammar + parser for `.shep` + `.boba` |
| 1 | Transpiler & Bytecode | Compiler for BobaScript (AST â†’ bytecode) + ShepLang â†’ Boba bridge |
| 2 | Runtime & CLI | BobaScript VM, REPL, file runner, ShepLang CLI commands |
| 2.5 | Integration | Verify both pipelines, shared TypeScript backend, CLI merge |
| 3 | Testing, Docs, Packaging | E2E, Explain Mode, NPM packaging, Docs |

---

## ğŸ§° Tech Stack

| Layer | Tooling |
|-------|----------|
| Parser / DSL | Langium + TypeScript (ES2022) |
| Compiler | TypeScript Compiler API |
| VM Runtime | Node.js (Stack-based interpreter) |
| REPL | Inquirer + Chalk + ts-node |
| Docs | Typedoc + Explain Mode (AI-generated) |
| Tests | Vitest + Playwright |
| Packaging | pnpm monorepo with project references |
| Hosting | Local preview (8787) + optional Vercel deploy |

---

## ğŸ‘¥ Target Personas

| Persona | Description | Goal |
|----------|--------------|------|
| Non-technical Founder | Thinks in ideas, not code | Build a prototype app |
| Designer / Maker | Understands flows visually | Translate UI logic into executable behavior |
| Educator / Mentor | Teaches code by example | Explain execution step-by-step |
| AI Researcher | Fine-tunes LLMs | Use BobaScript to test AI code reasoning |

---

## ğŸš€ Phase Overview

### **Phase 0 â€” Grammar & Parser**
- Build Langium grammars for both `.shep` (declarative) and `.boba` (imperative)
- Test parsing and AST generation
- Output: JSON AST + diagnostics

### **Phase 1 â€” Compiler + Bytecode**
- Transpile `.boba` to intermediate bytecode (stack VM spec)
- Extend ShepLang compiler to output `.boba`
- Output: `dist/app.boba.js` + `.bytecode.json`

### **Phase 2 â€” Runtime + CLI**
- Implement Boba VM and REPL
- Add Explain Mode (every step logs human description)
- Extend ShepLang CLI (`sheplang build`, `sheplang explain`, `boba run`)
- Output: runnable VM + CLI interaction

### **Phase 2.5 â€” Integration**
- Complete verification of ShepLang â†’ BobaScript adapter
- Unified TypeScript compiler pipeline
- Run integration tests (parser â†’ transpiler â†’ runtime â†’ explain)
- Output: green E2E run

### **Phase 3 â€” Docs + Packaging**
- Generate Typedoc + Explain Mode Markdown
- 100% coverage test suite
- Publish to npm (`@goldensheep/sheplang` + `@goldensheep/boba`)
- Output: final alpha release v0.1.0-alpha

---

## âœ… Success Metrics

| Metric | Target |
|---------|--------|
| Parse time | < 50ms for 200 lines |
| Build time | < 2s (tsc incremental) |
| Test coverage | â‰¥ 95% |
| REPL latency | < 100ms eval |
| Onboarding | < 10 min from clone â†’ run |
| Docs generation | < 1 min full build |
| User satisfaction | 4.8/5 (DX survey) |

---

## ğŸ§± Validation Block
**Commit Rule:** Do not push until all validation commands pass.

```bash
pnpm -w build && pnpm -w test --run
pnpm --filter @sheplang/cli exec sheplang parse examples/todo.shep
pnpm --filter @boba/cli exec boba run examples/todo.boba
